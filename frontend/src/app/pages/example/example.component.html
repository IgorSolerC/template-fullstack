<div class="container">
  
  <!-- Section 1: Create a New Example -->
  <section class="card">
    <h2>Criar novo Exemplo</h2>
    <form [formGroup]="newExampleForm" (ngSubmit)="onSubmit()">
      <div class="form-field">
        <label for="name">Nome:</label>
        <input id="name" type="text" formControlName="name" placeholder="Nome Exemplo">
      </div>
      <div class="form-field">
        <label for="description">Descrição:</label>
        <input id="description" type="text" formControlName="description" placeholder="Uma descrição curta">
      </div>
      <button type="submit" [disabled]="newExampleForm.invalid">Criar</button>
    </form>
  </section>

  <!-- Section 2: View All Examples -->
  <section class="card">
    <h2>Todos os exemplos</h2>
    <ng-container *ngIf="examples$ | async as examples; else loading">
      <ul *ngIf="examples.length > 0; else noExamples" class="example-list">
        <li>
          <span>0: Exemplo Erro</span>
          <button (click)="viewExample(-1)">Detalhes</button>
        </li>
        <li *ngFor="let ex of examples">
          <span>{{ ex.id }}: {{ ex.name }}</span>
          <button (click)="viewExample(ex.id)">Detalhes</button>
        </li>
      </ul>
    </ng-container>

    <ng-template #loading>
      <p>Carregando exemplos...</p>
    </ng-template>
    <ng-template #noExamples>
      <p>Nenhum exemplo encontrado. Crie um acima!</p>
    </ng-template>
  </section>

  <!-- Section 3: View a Single Selected Example -->
  <section class="card" *ngIf="selectedExample">
    <h2>Detalhes do Exemplo</h2>
    <div class="details">
      <p><strong>ID:</strong> {{ selectedExample.id }}</p>
      <p><strong>Nome:</strong> {{ selectedExample.name }}</p>
      <p><strong>Descrição:</strong> {{ selectedExample.description }}</p>
      <button (click)="clearSelection()">Fechar</button>
    </div>
  </section>

</div>